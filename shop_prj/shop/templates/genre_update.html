{% extends "staff.html" %}

{% block top_content %}
<div class="sm:ml-64 text-center py-2 px-2">
    <h2 class="text-2xl my-3 text-center font-bold">Edit Category</h2>
</div>
{% endblock top_content%}
{% block main_content %}
<div class="sm:ml-64 p-2 px-[5%]">
<form method="POST" enctype="multipart/form-data" class="bg-sky-50 shadow-md rounded-lg p-5 mx-auto">
    {% csrf_token %}
    
    <div class="mb-4 lg:flex lg:items-center">
        <label for="{{ form.name.id_for_label }}" class="block text-start text-gray-700 font-semibold lg:w-30">
            {{ form.name.label }}
        </label>
        {{ form.name }}
    </div>
    
    <div class="m-2 text-center">
        {% if genre.image %}
        <p>Current Image:</p>
        <img src="{{genre.image.url}}" alt="{{genre.name}}" class="w-[150px] mx-auto">
        {% else %}
        <p>No image</p>
        {% endif %}
    </div>
    
    <div class="mb-4 lg:flex lg:items-center">
        <label for="{{ form.image.id_for_label }}" class="block text-gray-700 font-semibold lg:w-34">
            {{ form.image.label }}
        </label>
        <div class="flex items-center space-x-2">
            
            <label class="inline-block text-gray-600">
                {{ form.image.clear_checkbox }}
            </label>
            <label class="inline-block text-gray-600">
                {{ form.image.clear_checkbox_label }}
            </label>
        </div>
        <div class="lg:bg-sky-100 lg:flex lg:flex-col lg:gap-2">{{ form.image }}</div>
    </div>

    <div class="text-center"><button type="submit" class="w-30 mt-4 bg-emerald-500 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded transition">
        Update
    </button></div>
</form>

<div class="text-center mt-4">
    <a href="{% url 'genres' %}" class="text-blue-500 hover:underline">Go back to categories</a>
</div>
</div>

{% endblock %}
